## 浏览器同源政策以及跨域问题总结
###

### 一. 同源策略

#### 1. 定义

> 1995年，同源政策由 Netscape 公司引入浏览器。目前，所有浏览器都实行这个政策。

简单来说，它的含义是说：A网页设置的Cookie，B网页不能打开，除非这两个网页“同源”。

##### 判断同源的三个要素：

* 相同的协议
* 相同的域名
* 相同的端口号

举例来说，`http://www.example.com/dir/page.html`这个网址，协议是http://，域名是www.example.com，端口是80（默认端口可以省略）。它的同源情况如下：

	http://www.example.com/dir2/other.html：同源
	http://example.com/dir/other.html：不同源（域名不同）
	http://v2.www.example.com/dir/other.html：不同源（域名不同）
	http://www.example.com:81/dir/other.html：不同源（端口不同）

#### 2. 存在意义

> 为了保证使用者信息的安全，防止恶意网站篡改用户数据。

举个例子：

假设没有同源策略，那么我在A网站下的cookie就可以被任何一个网站拿到；那么这个网站的所有者，就可以使用我的cookie(也就是我的身份)在A网站下进行操作。

同源策略可以算是 web 前端安全的基石，如果缺少同源策略，浏览器也就没有了安全性可言。

#### 3. 限制范围

非同源的网站之间，共有三种行为受到限制：

	1）Cookie、LocalStorage 和 IndexDB 无法读取。
	2）DOM 无法获得。
	3）AJAX 请求不能发送。


### 二. 跨域

> 同源策略做了很严格的限制，但是在实际的场景中，又确实有很多地方需要突破同源策略的限制，也就是我们常说的跨域。